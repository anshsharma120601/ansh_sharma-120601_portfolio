{"version":3,"sources":["../../src/use-disclosure.ts"],"names":["useDisclosure","props","onCloseProp","onClose","onOpenProp","onOpen","isOpenProp","isOpen","idProp","id","onOpenPropCallbackRef","onClosePropCallbackRef","React","useState","defaultIsOpen","isOpenState","setIsOpen","isControlled","useCallback","onToggle","action","getButtonProps","onClick","getDisclosureProps","hidden"],"mappings":";;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;;;;;AAUO,SAASA,aAAT,CAAuBC,KAAvB,EAAuD;AAAA,MAAhCA,KAAgC;AAAhCA,IAAAA,KAAgC,GAAJ,EAAI;AAAA;;AAAA,eAMxDA,KANwD;AAAA,MAEjDC,WAFiD,UAE1DC,OAF0D;AAAA,MAGlDC,UAHkD,UAG1DC,MAH0D;AAAA,MAIlDC,UAJkD,UAI1DC,MAJ0D;AAAA,MAKtDC,MALsD,UAK1DC,EAL0D;AAQ5D,MAAMC,qBAAqB,GAAG,oCAAeN,UAAf,CAA9B;AACA,MAAMO,sBAAsB,GAAG,oCAAeT,WAAf,CAA/B;;AAT4D,wBAU3BU,KAAK,CAACC,QAAN,CAAeZ,KAAK,CAACa,aAAN,IAAuB,KAAtC,CAV2B;AAAA,MAUrDC,WAVqD;AAAA,MAUxCC,SAVwC;;AAAA,6BAW7B,0CAAoBV,UAApB,EAAgCS,WAAhC,CAX6B;AAAA,MAWrDE,YAXqD;AAAA,MAWvCV,MAXuC;;AAa5D,MAAME,EAAE,GAAG,kBAAMD,MAAN,EAAc,YAAd,CAAX;AAEA,MAAML,OAAO,GAAGS,KAAK,CAACM,WAAN,CAAkB,YAAM;AACtC,QAAI,CAACD,YAAL,EAAmB;AACjBD,MAAAA,SAAS,CAAC,KAAD,CAAT;AACD;;AACDL,IAAAA,sBAAsB,QAAtB,YAAAA,sBAAsB;AACvB,GALe,EAKb,CAACM,YAAD,EAAeN,sBAAf,CALa,CAAhB;AAOA,MAAMN,MAAM,GAAGO,KAAK,CAACM,WAAN,CAAkB,YAAM;AACrC,QAAI,CAACD,YAAL,EAAmB;AACjBD,MAAAA,SAAS,CAAC,IAAD,CAAT;AACD;;AACDN,IAAAA,qBAAqB,QAArB,YAAAA,qBAAqB;AACtB,GALc,EAKZ,CAACO,YAAD,EAAeP,qBAAf,CALY,CAAf;AAOA,MAAMS,QAAQ,GAAGP,KAAK,CAACM,WAAN,CAAkB,YAAM;AACvC,QAAME,MAAM,GAAGb,MAAM,GAAGJ,OAAH,GAAaE,MAAlC;AACAe,IAAAA,MAAM;AACP,GAHgB,EAGd,CAACb,MAAD,EAASF,MAAT,EAAiBF,OAAjB,CAHc,CAAjB;AAKA,SAAO;AACLI,IAAAA,MAAM,EAAE,CAAC,CAACA,MADL;AAELF,IAAAA,MAAM,EAANA,MAFK;AAGLF,IAAAA,OAAO,EAAPA,OAHK;AAILgB,IAAAA,QAAQ,EAARA,QAJK;AAKLF,IAAAA,YAAY,EAAZA,YALK;AAMLI,IAAAA,cAAc,EAAE,wBAACpB,KAAD;AAAA,UAACA,KAAD;AAACA,QAAAA,KAAD,GAAc,EAAd;AAAA;;AAAA,0BACXA,KADW;AAEd,yBAAiB,MAFH;AAGd,yBAAiBQ,EAHH;AAIda,QAAAA,OAAO,EAAE,4BAAgBrB,KAAK,CAACqB,OAAtB,EAA+BH,QAA/B;AAJK;AAAA,KANX;AAYLI,IAAAA,kBAAkB,EAAE,4BAACtB,KAAD;AAAA,UAACA,KAAD;AAACA,QAAAA,KAAD,GAAc,EAAd;AAAA;;AAAA,0BACfA,KADe;AAElBuB,QAAAA,MAAM,EAAE,CAACjB,MAFS;AAGlBE,QAAAA,EAAE,EAAFA;AAHkB;AAAA;AAZf,GAAP;AAkBD","sourcesContent":["import { callAllHandlers } from \"@chakra-ui/utils\"\nimport * as React from \"react\"\nimport { useControllableProp } from \"./use-controllable\"\nimport { useId } from \"./use-id\"\nimport { useCallbackRef } from \"./use-callback-ref\"\n\nexport interface UseDisclosureProps {\n  isOpen?: boolean\n  defaultIsOpen?: boolean\n  onClose?(): void\n  onOpen?(): void\n  id?: string\n}\n\nexport function useDisclosure(props: UseDisclosureProps = {}) {\n  const {\n    onClose: onCloseProp,\n    onOpen: onOpenProp,\n    isOpen: isOpenProp,\n    id: idProp,\n  } = props\n\n  const onOpenPropCallbackRef = useCallbackRef(onOpenProp)\n  const onClosePropCallbackRef = useCallbackRef(onCloseProp)\n  const [isOpenState, setIsOpen] = React.useState(props.defaultIsOpen || false)\n  const [isControlled, isOpen] = useControllableProp(isOpenProp, isOpenState)\n\n  const id = useId(idProp, \"disclosure\")\n\n  const onClose = React.useCallback(() => {\n    if (!isControlled) {\n      setIsOpen(false)\n    }\n    onClosePropCallbackRef?.()\n  }, [isControlled, onClosePropCallbackRef])\n\n  const onOpen = React.useCallback(() => {\n    if (!isControlled) {\n      setIsOpen(true)\n    }\n    onOpenPropCallbackRef?.()\n  }, [isControlled, onOpenPropCallbackRef])\n\n  const onToggle = React.useCallback(() => {\n    const action = isOpen ? onClose : onOpen\n    action()\n  }, [isOpen, onOpen, onClose])\n\n  return {\n    isOpen: !!isOpen,\n    onOpen,\n    onClose,\n    onToggle,\n    isControlled,\n    getButtonProps: (props: any = {}) => ({\n      ...props,\n      \"aria-expanded\": \"true\",\n      \"aria-controls\": id,\n      onClick: callAllHandlers(props.onClick, onToggle),\n    }),\n    getDisclosureProps: (props: any = {}) => ({\n      ...props,\n      hidden: !isOpen,\n      id,\n    }),\n  }\n}\n\nexport type UseDisclosureReturn = ReturnType<typeof useDisclosure>\n"],"file":"use-disclosure.js"}